{% if subject.useName|default %}
    <h3>Nom d'usage</h3>

    {% include '@App/Numerologie/_table_identite.html.twig' with {'mot': subject.useName} %}
{% endif %}

{% if subject.birthName|default %}
    <h3>Nom de naissance</h3>

    {% include '@App/Numerologie/_table_identite.html.twig' with {'mot': subject.birthName} %}
{% endif %}

<hr>

<h3>Prénom</h3>

{% include '@App/Numerologie/_table_identite.html.twig' with {'mot': subject.firstname} %}

{% if subject.otherFirstnames %}
    <h3>Prénom</h3>

    {% for otherFirstname in subject.otherFirstnames %}
        {% include '@App/Numerologie/_table_identite.html.twig' with {'mot': otherFirstname} %}
    {% endfor %}
{% endif %}

<hr>

<h3>Tableau récapitulatif de l'identité</h3>

<table class="table">
    <thead>
        <tr>
            <th scope="col">{{ subject }} (nombre global : {{ (subject.useName|default(subject.birthName)~subject.firstname)|totalReduitLettre + (subject.useName|default(subject.birthName)~subject.firstname)|totalReduitVoyelle + (subject.useName|default(subject.birthName)~subject.firstname)|totalReduitConsonne }})</th>
            <td>Nombre héréditaire</td>
            <td>Nombre de mission</td>
            <td>Nombre social</td>
            <td>Nombre de structure</td>
        </tr>
    </thead>

    <tbody>
        <tr>
            <th scope="row">Nom d'usage</th>
            <td>{{ subject.useName|totalReduitLettre }}</td>
            <td>-</td>
            <td>{{ subject.useName|totalReduitVoyelle }}</td>
            <td>{{ subject.useName|totalReduitConsonne }}</td>
        </tr>
        {% if subject.birthName|default %}
            <tr>
                <th scope="row">Nom de naissance</th>
                <td>{{ subject.birthName|totalReduitLettre }}</td>
                <td>-</td>
                <td>{{ subject.birthName|totalReduitVoyelle }}</td>
                <td>{{ subject.birthName|totalReduitConsonne }}</td>
            </tr>
        {% endif %}
        <tr>
            <th scope="row">Prénom</th>
            <td>-</td>
            <td>{{ subject.firstname|totalReduitLettre }}</td>
            <td>{{ subject.firstname|totalReduitVoyelle }}</td>
            <td>{{ subject.firstname|totalReduitConsonne }}</td>
        </tr>
        {% for otherFirstname in subject.otherFirstnames %}
            <tr>
                <th scope="row">Prénom masqué {{ loop.index }}</th>
                <td>-</td>
                <td>{{ otherFirstname|totalReduitLettre }}</td>
                <td>{{ otherFirstname|totalReduitVoyelle }}</td>
                <td>{{ otherFirstname|totalReduitConsonne }}</td>
            </tr>
        {% endfor %}
        <tr>
            <th scope="row">Total</th>
            <th>{{ (subject.useName~subject.birthName)|totalReduitLettre }}</th>
            <th>{{ (subject.firstname~(subject.otherFirstnames|join('')))|totalReduitLettre }}</th>
            <th>{{ ((subject.useName~subject.birthName)~(subject.firstname~(subject.otherFirstnames|join(''))))|totalReduitVoyelle }}</th>
            <th>{{ ((subject.useName~subject.birthName)~(subject.firstname~(subject.otherFirstnames|join(''))))|totalReduitConsonne }}</th>
        </tr>
    </tbody>
</table>